(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e25eee3a"],{"031c":function(e,t,o){},"21a6":function(e,t,o){(function(o){var r,n,a;(function(o,c){n=[],r=c,a="function"===typeof r?r.apply(t,n):r,void 0===a||(e.exports=a)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,o){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){i(r.response,t,o)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,l=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,o){var l=c.URL||c.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?a(i):n(i.href)?r(e,t,o):a(i,i.target="_blank")):(i.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(i.href)}),4e4),setTimeout((function(){a(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,c){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,c),o);else if(n(e))r(e,o,c);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){a(l)}))}}:function(e,t,o,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,o);var a="application/octet-stream"===e.type,i=/constructor/i.test(c.HTMLElement)||c.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&i||l)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},s.readAsDataURL(e)}else{var u=c.URL||c.webkitURL,p=u.createObjectURL(e);n?n.location=p:location.href=p,n=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});c.saveAs=i.saveAs=i,e.exports=i}))}).call(this,o("c8ba"))},"41d7":function(e,t,o){},"4d0b":function(e,t,o){"use strict";o("b0c0");var r=o("7a23"),n=o("5502"),a=o("1dc4"),c={style:{display:"flex"}},l={style:{flex:"1","margin-right":"10px"}},i={style:{flex:"1"}},d={emits:["change"],setup:function(e,t){var o=t.emit,d=Object(n["b"])(),s=Object(r["ref"])(!1),u=new Date,p=new Date;u.setHours(0),u.setMinutes(0);var b=Object(r["ref"])({date:[u,p],deviceId:[],showMarkers:!0,groupId:[]});Object(r["onMounted"])((function(){o("change",b.value)}));var f=function(){o("change",b.value)},m=Object(r["ref"])([{text:Object(a["a"])("today"),value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[t,e]}},{text:Object(a["a"])("yesterday"),value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(t.getDate()-1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),[t,e]}},{text:Object(a["a"])("thisweek"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:Object(a["a"])("thismonth"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:Object(a["a"])("theeemonths"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]);return function(e,t){var o=Object(r["resolveComponent"])("el-date-picker"),n=Object(r["resolveComponent"])("el-form-item"),a=Object(r["resolveComponent"])("el-input"),u=Object(r["resolveComponent"])("el-option"),p=Object(r["resolveComponent"])("el-select"),v=Object(r["resolveComponent"])("el-form");return Object(r["openBlock"])(),Object(r["createBlock"])(v,{"label-position":"top"},{default:Object(r["withCtx"])((function(){return[s.value?(Object(r["openBlock"])(),Object(r["createBlock"])(n,{key:1},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(a,{type:"date"})]})),_:1})):(Object(r["openBlock"])(),Object(r["createBlock"])(n,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(o,{modelValue:b.value.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.value.date=e}),type:"datetimerange",shortcuts:m.value,"range-separator":e.$t("to"),format:"DD/MM/YYYY HH:mm","start-placeholder":e.$t("startDate"),"end-placeholder":e.$t("endDate"),onChange:f},null,8,["modelValue","shortcuts","range-separator","start-placeholder","end-placeholder"])]})),_:1})),Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",l,[Object(r["createVNode"])(n,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{onChange:f,modelValue:b.value.deviceId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.value.deviceId=e}),multiple:"","value-key":"id",filterable:"",placeholder:e.$t("device.devices"),size:"large","no-data-text":e.$t("NO_DATA_TEXT"),"no-match-text":e.$t("NO_MATCH_TEXT")},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(d).state.devices.deviceList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","no-data-text","no-match-text"])]})),_:1})]),Object(r["createElementVNode"])("div",i,[Object(r["createVNode"])(n,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{onChange:f,modelValue:b.value.groupId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.value.groupId=e}),multiple:"","value-key":"id",filterable:"",placeholder:e.$t("group.groups"),size:"large","no-data-text":e.$t("NO_DATA_TEXT"),"no-match-text":e.$t("NO_MATCH_TEXT")},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(d).state.groups.groupList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","no-data-text","no-match-text"])]})),_:1})])])]})),_:1})}}};o("77ff");const s=d;t["a"]=s},"77ff":function(e,t,o){"use strict";o("031c")},d46f:function(e,t,o){"use strict";o.r(t);o("d3b7"),o("159b"),o("b0c0"),o("b680");var r=o("7a23"),n=o("5502"),a=o("4d0b"),c=o("21a6"),l=function(e){return Object(r["pushScopeId"])("data-v-7cc50de0"),e=e(),Object(r["popScopeId"])(),e},i={style:{display:"flex","justify-content":"flex-end"}},d={style:{"margin-right":"10px","margin-top":"10px"}},s=Object(r["createTextVNode"])("Baixar"),u=Object(r["createTextVNode"])("Buscar"),p={style:{"margin-top":"20px"}},b={key:0,class:"reportBlock",style:{padding:"10px"}},f={key:1,class:"reportBlock",style:{padding:"10px"}},m=["set","onClick"],v={style:{color:"var(--el-text-color-primary)","font-weight":"bold","font-size":"16px",padding:"10px"}},O={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between","min-height":"53px"}},j={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},x=l((function(){return Object(r["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(r["createElementVNode"])("i",{class:"fas fa-flag"})],-1)})),g={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},y=l((function(){return Object(r["createElementVNode"])("br",null,null,-1)})),h={style:{padding:"10px","font-size":"14px",flex:"1"}},w={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},V={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},E=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Início do Hodometro",-1)})),k={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},N={style:{flex:"1","text-align":"center"}},D=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Fim do Hodometro",-1)})),B={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},T={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},S={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},C=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Velocidade Média",-1)})),A={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},M={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},R=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Velocidade Máxima",-1)})),_={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},I={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},L={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},z=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Tempo Total",-1)})),H={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},U={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},F=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Distância",-1)})),$={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},X={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},Y=l((function(){return Object(r["createElementVNode"])("div",{style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},"Consumo de Combustível",-1)})),q={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},G={setup:function(e){var t=Object(r["ref"])(0),o=Object(n["b"])(),l=Object(r["inject"])("updateRoute"),G=Object(r["inject"])("showRouteMarkers"),J=Object(r["ref"])({date:[0,0],deviceId:[],showMarkers:!0,groupId:[]}),K=Object(r["ref"])([]),P=window.$traccar,W=function(e){J.value=e},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.value=1,P.getReportStops(J.value.deviceId,J.value.groupId,J.value.date[0].toISOString(),J.value.date[1].toISOString(),e).then((function(o){if(e)t.value=0,"application/pdf"===o["headers"]["content-type"]?Object(c["saveAs"])(new Blob([o.data],{type:"application/pdf"}),"resume.pdf"):Object(c["saveAs"])(new Blob([o.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),"resume.xlsx");else{t.value=2,K.value=o.data;var r=[];o.data.forEach((function(e){r.push([e.latitude,e.longitude,e.id,e.course])})),l(r,!1)}}))};return function(e,n){var c=Object(r["resolveComponent"])("el-switch"),l=Object(r["resolveComponent"])("el-button");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(Object(r["unref"])(a["a"]),{onChange:n[0]||(n[0]=function(e){return W(e)})}),Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("div",d,[Object(r["createVNode"])(c,{modelValue:Object(r["unref"])(G),"onUpdate:modelValue":n[1]||(n[1]=function(e){return Object(r["isRef"])(G)?G.value=e:null}),"active-text":"Mostrar Marcadores"},null,8,["modelValue"])]),Object(r["createVNode"])(l,{onClick:n[2]||(n[2]=function(e){return Q(!0)})},{default:Object(r["withCtx"])((function(){return[s]})),_:1}),Object(r["createVNode"])(l,{type:"primary",onClick:n[3]||(n[3]=function(e){return Q()})},{default:Object(r["withCtx"])((function(){return[u]})),_:1})]),Object(r["createElementVNode"])("div",p,[1===t.value?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",b,"CARREGANDO DADOS...")):Object(r["createCommentVNode"])("",!0),2===t.value&&0===K.value.length?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",f,"--NÃO HÁ DADOS PARA MOSTRAR--")):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(K.value,(function(t,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"reportBlock",key:n,set:e.device=Object(r["unref"])(o).getters["devices/getDevice"](t.deviceId),onClick:function(o){return e.loadRoute(t)}},[Object(r["createElementVNode"])("div",v,Object(r["toDisplayString"])(e.device.name),1),Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("div",j,[x,Object(r["createElementVNode"])("div",g,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(new Date(t.startTime).toLocaleDateString()),1),y,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(new Date(t.startTime).toLocaleTimeString()),1)])]),Object(r["createElementVNode"])("div",h,Object(r["toDisplayString"])(t.address),1)]),Object(r["createElementVNode"])("div",w,[Object(r["createElementVNode"])("div",V,[E,Object(r["createElementVNode"])("div",k,Object(r["toDisplayString"])(parseInt(t.startOdometer))+" km",1)]),Object(r["createElementVNode"])("div",N,[D,Object(r["createElementVNode"])("div",B,Object(r["toDisplayString"])(parseInt(t.endOdometer))+" km",1)])]),Object(r["createElementVNode"])("div",T,[Object(r["createElementVNode"])("div",S,[C,Object(r["createElementVNode"])("div",A,Object(r["toDisplayString"])(parseInt(t.averageSpeed))+" km/h",1)]),Object(r["createElementVNode"])("div",M,[R,Object(r["createElementVNode"])("div",_,Object(r["toDisplayString"])(parseInt(t.maxSpeed))+" km/h",1)])]),Object(r["createElementVNode"])("div",I,[Object(r["createElementVNode"])("div",L,[z,Object(r["createElementVNode"])("div",H,Object(r["toDisplayString"])(t.duration),1)]),Object(r["createElementVNode"])("div",U,[F,Object(r["createElementVNode"])("div",$,Object(r["toDisplayString"])(parseFloat(t.distance).toFixed(2))+" km",1)]),Object(r["createElementVNode"])("div",X,[Y,Object(r["createElementVNode"])("div",q,Object(r["toDisplayString"])(t.spentFuel)+" L",1)])])],8,m)})),128))])],64)}}},J=(o("f437"),o("6b0d")),K=o.n(J);const P=K()(G,[["__scopeId","data-v-7cc50de0"]]);t["default"]=P},f437:function(e,t,o){"use strict";o("41d7")}}]);