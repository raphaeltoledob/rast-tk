(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c2f97ad"],{"21a6":function(e,t,n){(function(n){var o,a,r;(function(n,c){a=[],o=c,r="function"===typeof o?o.apply(t,a):o,void 0===r||(e.exports=r)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,i=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=c.URL||c.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):a(l.href)?o(e,t,n):r(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,c){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,c),n);else if(a(e))o(e,n,c);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){r(i)}))}}:function(e,t,n,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var r="application/octet-stream"===e.type,l=/constructor/i.test(c.HTMLElement)||c.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||r&&l||i)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=d?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},s.readAsDataURL(e)}else{var u=c.URL||c.webkitURL,p=u.createObjectURL(e);a?a.location=p:location.href=p,a=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});c.saveAs=l.saveAs=l,e.exports=l}))}).call(this,n("c8ba"))},"833d":function(e,t,n){"use strict";n("d84d")},d84d:function(e,t,n){},f07b:function(e,t,n){"use strict";n.r(t);n("d3b7"),n("159b"),n("b0c0");var o=n("7a23"),a=n("5502"),r=n("6c02"),c=n("21a6"),i=function(e){return Object(o["pushScopeId"])("data-v-465a22f4"),e=e(),Object(o["popScopeId"])(),e},l={style:{display:"flex"}},d=i((function(){return Object(o["createElementVNode"])("div",{style:{width:"100px"}},null,-1)})),s=i((function(){return Object(o["createElementVNode"])("div",{style:{width:"5px"}},null,-1)})),u=i((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-route"},null,-1)})),p=i((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-chart-bar"},null,-1)})),b={style:{display:"flex","justify-content":"flex-end","margin-top":"3px"}},f={style:{"margin-right":"10px","margin-top":"10px"}},v=i((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),m=i((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),j=i((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),O={style:{display:"flex","flex-direction":"column",border:"var(--el-border-color-light) 1px solid","margin-top":"20px","border-radius":"10px"}},g={key:0,style:{"text-align":"center",padding:"40px"}},x={key:1,style:{"text-align":"center",padding:"40px"}},h={key:0,style:{"border-bottom":"silver 1px dotted",display:"flex"}},y={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},w=i((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute","border-right":"#cbcbcb 1px dashed",width:"1px",height:"55%",right:"3px",bottom:"0%",transform:"translate(-55%,0)"}},null,-1)})),V=i((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(o["createElementVNode"])("i",{class:"fas fa-flag"})],-1)})),E=Object(o["createTextVNode"])(),N={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},k=i((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),D={style:{padding:"10px","font-size":"14px",flex:"1"}},T={style:{padding:"10px",width:"70px","text-align":"right","font-size":"12px","margin-right":"1px"}},B=i((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-tachometer-alt"},null,-1)})),S={key:1,style:{overflow:"auto",height:"calc(100vh - 300px)"}},M={key:0,style:{display:"flex","border-bottom":"silver 1px dotted"}},L={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},C=i((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute","border-right":"#cbcbcb 1px dashed",width:"1px",height:"100%",right:"3px",bottom:"0%",transform:"translate(-55%,0)"}},null,-1)})),A=i((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",background:"#05a7e3",width:"10px",height:"10px",right:"0px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},null,-1)})),U={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},I=i((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),$={style:{padding:"10px","font-size":"12px",flex:"1"}},R=["href"],_=i((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-external-link-alt"},null,-1)})),H={style:{padding:"10px","font-size":"12px",width:"70px","text-align":"right"}},z=i((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-tachometer-alt"},null,-1)})),Y={key:2,style:{"border-top":"silver 1px dotted",display:"flex"}},q={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},F=i((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute","border-right":"#cbcbcb 1px dashed",width:"1px",height:"55%",right:"3px",top:"0%",transform:"translate(-55%,0)"}},null,-1)})),X=i((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(o["createElementVNode"])("i",{class:"fas fa-flag"})],-1)})),G={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},J=i((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),K={style:{padding:"10px","font-size":"14px",flex:"1"}},W={style:{padding:"10px","font-size":"12px",width:"70px","text-align":"right","margin-right":"1px"}},P=i((function(){return Object(o["createElementVNode"])("i",{class:"fas fa-tachometer-alt"},null,-1)})),Q={setup:function(e){var t=Object(o["inject"])("show-graphics"),n=Object(o["ref"])(!1),i=new Date,Q=new Date;i.setHours(0),i.setMinutes(0);var Z=Object(o["inject"])("showRouteMarkers"),ee=function(e,t){window.$showTip(e,t)},te=function(e,t){window.$hideTip(e,t)},ne=Object(o["ref"])({deviceId:"",date:[i,Q]}),oe=Object(a["b"])(),ae=Object(r["c"])();Object(o["onMounted"])((function(){ae.query.deviceId&&(ne.value.deviceId=parseInt(ae.query.deviceId),se())})),Object(o["onBeforeUnmount"])((function(){})),Object(o["watch"])((function(){return ae.query.deviceId}),(function(){ae.query.deviceId&&(ne.value.deviceId=parseInt(ae.query.deviceId),se())}));var re=Object(o["inject"])("updateRoute"),ce=Object(o["ref"])([{text:"Hoje",value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[t,e]}},{text:"Ontem",value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(t.getDate()-1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),[t,e]}},{text:"Esta semana",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"Este mÃªs",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"3 meses",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]),ie=Object(o["ref"])([]),le=function(){0===ie.value.length?se(!0):t.value.showGraphic(ie.value)},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;oe.dispatch("devices/setDeviceFilter",e)},se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=window.$traccar;n.value=!0,a.loadRoute(ne.value.deviceId,ne.value.date[0],ne.value.date[1],t).then((function(a){if(t)n.value=0,"application/pdf"===a["headers"]["content-type"]?Object(c["saveAs"])(new Blob([a.data],{type:"application/pdf"}),"resume.pdf"):Object(c["saveAs"])(new Blob([a.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),"resume.xlsx");else{var r=a.data;ie.value=r;var i=[];r.forEach((function(e){i.push([e.latitude,e.longitude,e.id,e.course])})),re(i),Object(o["nextTick"])((function(){de(ne.value.deviceId)})),n.value=!1,e&&r.length>0&&le()}}))};return function(e,t){var a=Object(o["resolveComponent"])("el-option"),r=Object(o["resolveComponent"])("el-select"),c=Object(o["resolveComponent"])("el-form-item"),i=Object(o["resolveComponent"])("el-date-picker"),Q=Object(o["resolveComponent"])("el-button"),ae=Object(o["resolveComponent"])("el-switch"),re=Object(o["resolveComponent"])("el-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(re,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(r,{modelValue:ne.value.deviceId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return ne.value.deviceId=e}),"value-key":"id",filterable:"",placeholder:e.$t("device.device"),size:"large","no-data-text":e.$t("NO_DATA_TEXT"),"no-match-text":e.$t("NO_MATCH_TEXT")},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object(o["unref"])(oe).state.devices.deviceList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","no-data-text","no-match-text"])]})),_:1}),Object(o["createElementVNode"])("div",l,[d,Object(o["createVNode"])(i,{modelValue:ne.value.date,"onUpdate:modelValue":t[1]||(t[1]=function(e){return ne.value.date=e}),type:"datetimerange",shortcuts:ce.value,"range-separator":e.$t("to"),format:"DD/MM/YYYY HH:mm","start-placeholder":e.$t("startDate"),"end-placeholder":e.$t("endDate")},null,8,["modelValue","shortcuts","range-separator","start-placeholder","end-placeholder"]),s,Object(o["createVNode"])(Q,{onMouseleave:te,onMouseenter:t[2]||(t[2]=Object(o["withModifiers"])((function(t){return ee(t,e.$t("device.routes"))}),["stop"])),type:"primary",onClick:t[3]||(t[3]=function(e){return se()})},{default:Object(o["withCtx"])((function(){return[u]})),_:1}),Object(o["createVNode"])(Q,{onMouseleave:te,onMouseenter:t[4]||(t[4]=Object(o["withModifiers"])((function(t){return ee(t,e.$t("device.graphic"))}),["stop"])),type:"info",onClick:t[5]||(t[5]=function(e){return le()})},{default:Object(o["withCtx"])((function(){return[p]})),_:1})]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",f,[Object(o["createVNode"])(ae,{modelValue:Object(o["unref"])(Z),"onUpdate:modelValue":t[6]||(t[6]=function(e){return Object(o["isRef"])(Z)?Z.value=e:null}),"active-text":e.$t("report.showMarkers")},null,8,["modelValue","active-text"])]),Object(o["createVNode"])(Q,{type:"info",onClick:t[7]||(t[7]=function(e){return se(!1,!0)})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("report.export")),1)]})),_:1})]),v,m,j]})),_:1}),Object(o["createElementVNode"])("div",O,[n.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",g,Object(o["toDisplayString"])(e.$t("LOADING")),1)):0===ie.value.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,Object(o["toDisplayString"])(e.$t("route.empty")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[ie.value.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",h,[Object(o["createElementVNode"])("div",y,[w,V,E,Object(o["createElementVNode"])("div",N,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(ie.value[0].fixTime).toLocaleDateString()),1),k,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(ie.value[0].fixTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",D,Object(o["toDisplayString"])(ie.value[0].address),1),Object(o["createElementVNode"])("div",T,[B,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(oe).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:ie.value[0].speed})),1)])])):Object(o["createCommentVNode"])("",!0),ie.value.length>2?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",S,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ie.value,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t.id},[n>0&&n<ie.value.length-1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",M,[Object(o["createElementVNode"])("div",L,[C,A,Object(o["createElementVNode"])("div",U,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(t.fixTime).toLocaleDateString()),1),I,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(t.fixTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",$,[Object(o["createElementVNode"])("a",{target:"_blank",style:{"text-decoration":"none",color:"var(--el-text-color-primary)"},href:"https://maps.google.com/?q="+t.latitude+","+t.longitude},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.address||t.latitude+","+t.longitude)+" ",1),_],8,R)]),Object(o["createElementVNode"])("div",H,[z,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(oe).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:t.speed})),1)])])):Object(o["createCommentVNode"])("",!0)],64)})),128))])):Object(o["createCommentVNode"])("",!0),ie.value.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Y,[Object(o["createElementVNode"])("div",q,[F,X,Object(o["createElementVNode"])("div",G,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(ie.value[ie.value.length-1].fixTime).toLocaleDateString()),1),J,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(ie.value[ie.value.length-1].fixTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",K,Object(o["toDisplayString"])(ie.value[ie.value.length-1].address),1),Object(o["createElementVNode"])("div",W,[P,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(oe).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:ie.value[ie.value.length-1].speed})),1)])])):Object(o["createCommentVNode"])("",!0)],64))])],64)}}},Z=(n("833d"),n("6b0d")),ee=n.n(Z);const te=ee()(Q,[["__scopeId","data-v-465a22f4"]]);t["default"]=te}}]);