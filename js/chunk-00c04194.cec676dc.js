(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c04194"],{"031c":function(e,t,r){},"05f2":function(e,t,r){"use strict";r("6260")},"4d0b":function(e,t,r){"use strict";r("b0c0");var o=r("7a23"),n=r("5502"),c=r("1dc4"),a={style:{display:"flex"}},l={style:{flex:"1","margin-right":"10px"}},i={style:{flex:"1"}},d={emits:["change"],setup:function(e,t){var r=t.emit,d=Object(n["b"])(),s=Object(o["ref"])(!1),p=new Date,b=new Date;p.setHours(0),p.setMinutes(0);var u=Object(o["ref"])({date:[p,b],deviceId:[],showMarkers:!0,groupId:[]});Object(o["onMounted"])((function(){r("change",u.value)}));var O=function(){r("change",u.value)},j=Object(o["ref"])([{text:Object(c["a"])("today"),value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[t,e]}},{text:Object(c["a"])("yesterday"),value:function(){var e=new Date,t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(t.getDate()-1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),[t,e]}},{text:Object(c["a"])("thisweek"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:Object(c["a"])("thismonth"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:Object(c["a"])("theeemonths"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-7776e6),[t,e]}}]);return function(e,t){var r=Object(o["resolveComponent"])("el-date-picker"),n=Object(o["resolveComponent"])("el-form-item"),c=Object(o["resolveComponent"])("el-input"),p=Object(o["resolveComponent"])("el-option"),b=Object(o["resolveComponent"])("el-select"),m=Object(o["resolveComponent"])("el-form");return Object(o["openBlock"])(),Object(o["createBlock"])(m,{"label-position":"top"},{default:Object(o["withCtx"])((function(){return[s.value?(Object(o["openBlock"])(),Object(o["createBlock"])(n,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{type:"date"})]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(n,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(r,{modelValue:u.value.date,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.value.date=e}),type:"datetimerange",shortcuts:j.value,"range-separator":e.$t("to"),format:"DD/MM/YYYY HH:mm","start-placeholder":e.$t("startDate"),"end-placeholder":e.$t("endDate"),onChange:O},null,8,["modelValue","shortcuts","range-separator","start-placeholder","end-placeholder"])]})),_:1})),Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(n,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{onChange:O,modelValue:u.value.deviceId,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.value.deviceId=e}),multiple:"","value-key":"id",filterable:"",placeholder:e.$t("device.devices"),size:"large","no-data-text":e.$t("NO_DATA_TEXT"),"no-match-text":e.$t("NO_MATCH_TEXT")},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object(o["unref"])(d).state.devices.deviceList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","no-data-text","no-match-text"])]})),_:1})]),Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(n,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{onChange:O,modelValue:u.value.groupId,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.value.groupId=e}),multiple:"","value-key":"id",filterable:"",placeholder:e.$t("group.groups"),size:"large","no-data-text":e.$t("NO_DATA_TEXT"),"no-match-text":e.$t("NO_MATCH_TEXT")},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(Object(o["unref"])(d).state.groups.groupList,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","placeholder","no-data-text","no-match-text"])]})),_:1})])])]})),_:1})}}};r("77ff");const s=d;t["a"]=s},6260:function(e,t,r){},"77ff":function(e,t,r){"use strict";r("031c")},"96ec":function(e,t,r){"use strict";r.r(t);r("d3b7"),r("159b"),r("b0c0");var o=r("7a23"),n=r("5502"),c=r("4d0b"),a=function(e){return Object(o["pushScopeId"])("data-v-5bd20bde"),e=e(),Object(o["popScopeId"])(),e},l={style:{display:"flex","justify-content":"flex-end"}},i={style:{"margin-right":"10px","margin-top":"10px"}},d={style:{"margin-top":"20px"}},s={key:0,class:"reportBlock",style:{padding:"10px"}},p={key:1,class:"reportBlock",style:{padding:"10px"}},b=["set","onClick"],u={style:{color:"var(--el-text-color-primary)","font-weight":"bold","font-size":"16px",padding:"10px"}},O={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between","min-height":"53px"}},j={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},m=a((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(o["createElementVNode"])("i",{class:"fas fa-flag"})],-1)})),v={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},g=a((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),f={style:{padding:"10px","font-size":"14px",flex:"1"}},x={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},y={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},h={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},V={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},N={style:{flex:"1","text-align":"center"}},k={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},E={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},D={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},w={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},S={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},T={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},B={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},C={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},$={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},z={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},_={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},I={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},A={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},L={style:{flex:"1","text-align":"center","border-right":"var(--el-border-color-light) 1px dotted"}},M={style:{"text-transform":"uppercase","margin-top":"10px","font-size":"11px",color:"var(--el-text-color-regular)"}},U={style:{"margin-top":"5px","margin-bottom":"10px","font-size":"20px",color:"var(--el-color-primary)"}},F={style:{"border-top":"var(--el-border-color-light) 1px dotted",display:"flex","justify-content":"space-between"}},H={style:{"text-align":"right",padding:"10px","font-size":"11px",color:"#5b5b5b",position:"relative",width:"70px"}},Y=a((function(){return Object(o["createElementVNode"])("div",{style:{position:"absolute",width:"20px",height:"20px","font-size":"16px","text-align":"center",right:"-10px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},[Object(o["createElementVNode"])("i",{class:"fas fa-flag-checkered"})],-1)})),R={style:{position:"absolute",right:"15px",top:"50%","border-radius":"50%",transform:"translateY(-50%)"}},X=a((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),J={style:{padding:"10px","font-size":"14px",flex:"1"}},G={setup:function(e){var t=Object(o["inject"])("showRouteMarkers"),r=Object(o["ref"])(0),a=Object(n["b"])(),G=Object(o["inject"])("updateRoute"),q=Object(o["ref"])({date:[0,0],deviceId:[],showMarkers:!0,groupId:[]}),K=Object(o["ref"])([]),P=window.$traccar,Q=function(e){q.value=e},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a.dispatch("devices/setDeviceFilter",e)},Z=function(e){P.loadRoute(e.deviceId,e.startTime,e.endTime).then((function(t){var o=t.data,n=[];o.forEach((function(e){n.push([e.latitude,e.longitude,e.id,e.course])})),W(e.deviceId),G(n),r.value=!1}))},ee=function(){r.value=1,P.getReportTravels(q.value.deviceId,q.value.groupId,q.value.date[0].toISOString(),q.value.date[1].toISOString()).then((function(e){r.value=2,K.value=e.data}))};return function(e,n){var G=Object(o["resolveComponent"])("el-switch"),q=Object(o["resolveComponent"])("el-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(Object(o["unref"])(c["a"]),{onChange:n[0]||(n[0]=function(e){return Q(e)})}),Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(G,{modelValue:Object(o["unref"])(t),"onUpdate:modelValue":n[1]||(n[1]=function(e){return Object(o["isRef"])(t)?t.value=e:null}),"active-text":e.$t("report.showMarkers")},null,8,["modelValue","active-text"])]),Object(o["createVNode"])(q,{type:"info",onClick:n[2]||(n[2]=function(e){return ee(!0)})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("report.export")),1)]})),_:1}),Object(o["createVNode"])(q,{type:"primary",onClick:n[3]||(n[3]=function(e){return ee()})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("report.load")),1)]})),_:1})]),Object(o["createElementVNode"])("div",d,[1===r.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,Object(o["toDisplayString"])(e.$t("LOADING")),1)):Object(o["createCommentVNode"])("",!0),2===r.value&&0===K.value.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,Object(o["toDisplayString"])(e.$t("NO_DATA_TEXT")),1)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(K.value,(function(t,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"reportBlock",key:r,set:e.device=Object(o["unref"])(a).getters["devices/getDevice"](t.deviceId),onClick:function(e){return Z(t)}},[Object(o["createElementVNode"])("div",u,Object(o["toDisplayString"])(e.device.name),1),Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",j,[m,Object(o["createElementVNode"])("div",v,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(t.startTime).toLocaleDateString()),1),g,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(t.startTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",f,[t.startAddress?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.startAddress),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.startLat)+", "+Object(o["toDisplayString"])(t.startLon),1)],64))])]),Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",h,Object(o["toDisplayString"])(e.$t("device.startOdometer")),1),Object(o["createElementVNode"])("div",V,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(a).getters["server/getAttribute"]("distanceUnit","distanceUnit"),{distance:t.startOdometer})),1)]),Object(o["createElementVNode"])("div",N,[Object(o["createElementVNode"])("div",k,Object(o["toDisplayString"])(e.$t("device.endOdometer")),1),Object(o["createElementVNode"])("div",E,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(a).getters["server/getAttribute"]("distanceUnit","distanceUnit"),{distance:t.endOdometer})),1)])]),Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("div",S,Object(o["toDisplayString"])(e.$t("device.averageSpeed")),1),Object(o["createElementVNode"])("div",T,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(a).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:t.averageSpeed})),1)]),Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",C,Object(o["toDisplayString"])(e.$t("device.maxSpeed")),1),Object(o["createElementVNode"])("div",$,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(a).getters["server/getAttribute"]("speedUnit","speedUnit"),{speed:t.maxSpeed})),1)])]),Object(o["createElementVNode"])("div",z,[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.$t("device.duration")),1),Object(o["createElementVNode"])("div",A,Object(o["toDisplayString"])(Math.round(t.duration/60/60/1e3))+" hs",1)]),Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",M,Object(o["toDisplayString"])(e.$t("device.distance")),1),Object(o["createElementVNode"])("div",U,Object(o["toDisplayString"])(e.$t("units."+Object(o["unref"])(a).getters["server/getAttribute"]("distanceUnit","distanceUnit"),{distance:t.distance})),1)]),Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",F,[Object(o["createElementVNode"])("div",H,[Y,Object(o["createElementVNode"])("div",R,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(new Date(t.endTime).toLocaleDateString()),1),X,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(new Date(t.endTime).toLocaleTimeString()),1)])]),Object(o["createElementVNode"])("div",J,[t.endAddress?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.endAddress),1)],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.endLat)+", "+Object(o["toDisplayString"])(t.endLon),1)],64))])])],8,b)})),128))])],64)}}},q=(r("05f2"),r("6b0d")),K=r.n(q);const P=K()(G,[["__scopeId","data-v-5bd20bde"]]);t["default"]=P}}]);