(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68a180a9"],{1323:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),o=n("1dc4"),a=n("6c02"),r=n("5502"),l=n("c9a1"),i=n("1254"),u=n("90b1"),d=function(e){return Object(c["pushScopeId"])("data-v-d5653624"),e=e(),Object(c["popScopeId"])(),e},s={class:"login"},b={id:"logo"},m={id:"login-form"},f={key:0,style:{"text-align":"center"}},j=Object(c["createTextVNode"])(" Acessando compartilhamento, por favor aguarde..."),p=d((function(){return Object(c["createElementVNode"])("br",null,null,-1)})),O=d((function(){return Object(c["createElementVNode"])("br",null,null,-1)})),v={style:{"margin-left":"10%"}},h={class:"label"},g={class:"label"},V={style:{"margin-top":"10px",float:"left"}},y={style:{"margin-top":"10px",float:"right"}},N=d((function(){return Object(c["createElementVNode"])("div",{style:{background:"rgba(255,255,255,0.8)",padding:"5px",color:"#101010","z-index":"999999999",position:"fixed",bottom:"0px",right:"0px",width:"100%","text-align":"center","font-size":"11px"}},[Object(c["createTextVNode"])("Esta empresa de Rastreamento faz uso do "),Object(c["createElementVNode"])("a",{style:{color:"#111111","text-decoration":"none"},href:"https://tarkan.mobi",target:"_blank"},"Tarkan Starter")],-1)})),k={setup:function(e){var t=Object(r["b"])(),n=Object(a["d"])(),d=n.push,k=Object(a["c"])(),w=Object(c["inject"])("traccar"),E=Object(c["ref"])(null),x=Object(c["ref"])(null),I=Object(c["ref"])(!1),S=Object(c["ref"])(k.query.user||""),_=Object(c["ref"])(k.query.pass||"");Object(c["onMounted"])((function(){"Share"===k.name?B():E.value.focus()}));var B=function(){w.loginToken(k.params.token).then((function(e){t.commit("setAuth",e),t.dispatch("loadUserData").then((function(){d("/devices/"+e.attributes.deviceId),t.commit("devices/setTrail",parseInt(e.attributes.deviceId)),t.commit("devices/setFollow",parseInt(e.attributes.deviceId))}))})).catch((function(e){l["a"].confirm(Object(o["a"])("INVALID_SHARE")||e).then((function(){})).catch((function(){}))}))},D=function(){var e=u["a"].service({fullscreen:!0});w.login(S.value,_.value).then((function(n){t.commit("setAuth",n),t.dispatch("loadUserData"),I.value&&window.localStorage.setItem("rememberme",btoa(S.value+"|"+_.value)),e.close(),d("/home")})).catch((function(t){e.close(),l["a"].confirm(Object(o["a"])(t)||t).then((function(){})).catch((function(){}))}))};return function(e,n){var a=Object(c["resolveComponent"])("el-input"),r=Object(c["resolveComponent"])("el-switch"),l=Object(c["resolveComponent"])("el-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("div",b,[Object(c["createElementVNode"])("img",{style:Object(c["normalizeStyle"])({width:Object(c["unref"])(t).getters["server/getLogoWidth"]}),src:"/tarkan/assets/custom/logoWhite.png"},null,4)]),Object(c["createElementVNode"])("div",m,["Share"===e.$route.name?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,[j,p,O,Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(Object(c["unref"])(i["a"]),{percentage:50,status:"warning",indeterminate:!0})])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:1},[Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",h,Object(c["toDisplayString"])(Object(c["unref"])(o["a"])("login.username")),1),Object(c["createVNode"])(a,{ref_key:"userinput",ref:E,modelValue:S.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return S.value=e}),onKeydown:n[1]||(n[1]=Object(c["withKeys"])((function(e){return x.value.focus()}),["enter"])),placeholder:Object(c["unref"])(o["a"])("login.your_email")},null,8,["modelValue","placeholder"])]),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",g,Object(c["toDisplayString"])(Object(c["unref"])(o["a"])("login.password")),1),Object(c["createVNode"])(a,{ref_key:"passinput",ref:x,modelValue:_.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return _.value=e}),onKeydown:n[3]||(n[3]=Object(c["withKeys"])((function(e){return D()}),["enter"])),type:"password",placeholder:Object(c["unref"])(o["a"])("login.your_password")},null,8,["modelValue","placeholder"])]),Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(r,{modelValue:I.value,"onUpdate:modelValue":n[4]||(n[4]=function(e){return I.value=e}),"inactive-text":"","active-text":Object(c["unref"])(o["a"])("rememberme"),"active-value":!0,"inactive-value":!1},null,8,["modelValue","active-text"])]),Object(c["createElementVNode"])("div",y,[Object(c["createVNode"])(l,{type:"primary",onClick:n[5]||(n[5]=function(e){return D()})},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(Object(c["unref"])(o["a"])("login.signin")),1)]})),_:1})])],64))]),N])}}},w=(n("bce7"),n("6b0d")),E=n.n(w);const x=E()(k,[["__scopeId","data-v-d5653624"]]);t["default"]=x},"20e7":function(e,t,n){},bce7:function(e,t,n){"use strict";n("20e7")}}]);